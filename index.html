<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>¬°Descubre el sexo del beb√©!</title>
  <style>
    body { background: #f5f5f5; font-family: Arial, sans-serif; color: #333; margin: 0; padding: 0; }
    .container { max-width: 600px; margin: 2rem auto; background: #fff; padding: 1rem 2rem 2rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    h2 { margin-top: 0; }
    section { display: none; }
    section.active { display: block; }
    input, button { font-size: 1rem; padding: 0.5rem; }
    button { cursor: pointer; }
    .memory-grid { display: grid; grid-template-columns: repeat(4, 100px); grid-gap: 1rem; justify-content: center; margin: 1rem 0; }
    .card { width: 100px; height: 100px; background: #ccc; display: flex; align-items: center; justify-content: center; font-size: 2rem; cursor: pointer; border-radius: 8px; user-select: none; }
    .card.flipped { background: #fff; }
    .card.matched { visibility: hidden; }
    #rgb-target, #rgb-preview { width: 100px; height: 100px; border: 2px solid #333; display: inline-block; vertical-align: middle; margin: 0.5rem; }
    .slider-group { margin: 1rem 0; }
    .slider-group label { display: block; margin: 0.5rem 0; }
    .hangman-word { font-size: 1.5rem; letter-spacing: 0.5rem; margin: 1rem 0; }
    .letters { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1rem; }
    .letters button { width: 40px; height: 40px; font-size: 1rem; }
    #status { margin-bottom: 1rem; }
    #reveal { font-size: 1.5rem; font-weight: bold; text-align: center; margin-top: 1rem; }
  </style>
</head>
<body>
  <div class="container">
    <!-- Paso 1 -->
    <section id="step1" class="active">
      <h2>Paso 1: Acertijo num√©rico</h2>
      <p>Si a la posici√≥n de la letra C (3) le sumas el n√∫mero de meses de embarazo (9), ¬øqu√© obtienes?</p>
      <input type="number" id="ans1" placeholder="Tu respuesta">
      <button id="btn1">Comprobar</button>
    </section>

    <!-- Paso 2: Juego de memoria -->
    <section id="step2">
      <h2>Paso 2: Juego de memoria</h2>
      <p>Encuentra todas las parejas de iconos de beb√©:</p>
      <div id="memory" class="memory-grid"></div>
      <button id="btn2" style="display:none;">Siguiente</button>
    </section>

    <!-- Paso 3: Puzzle l√≥gico de edades -->
    <section id="step3">
      <h2>Paso 3: Puzzle l√≥gico de edades</h2>
      <p>En una familia:<br>
      - Kona tiene 2 a√±os m√°s que Kai<br>
      - Kai tiene 1 a√±o m√°s que Luna<br>
      Si la suma de sus edades es 28, ¬øqu√© edad tiene Kai?</p>
      <input type="number" id="ans3" placeholder="Edad de Bea">
      <button id="btn3">Comprobar</button>
    </section>

    <!-- Paso 4: Mezcla de color discreta con 6 valores -->
    <section id="step4">
      <h2>Paso 4: Mezcla de color</h2>
      <p>Recrea el color indicado moviendo cada deslizador (0‚Äì5):</p>
      <div>
        <span>Color objetivo:</span>
        <div id="rgb-target"></div>
      </div>
      <div>
        <span>Tu mezcla:</span>
        <div id="rgb-preview"></div>
      </div>
      <div class="slider-group">
        <label>R (0‚Äì5): <input type="range" id="r" min="0" max="5" step="1"></label>
        <label>G (0‚Äì5): <input type="range" id="g" min="0" max="5" step="1"></label>
        <label>B (0‚Äì5): <input type="range" id="b" min="0" max="5" step="1"></label>
      </div>
      <button id="btn4">Comprobar color</button>
    </section>

    <!-- Paso 5: Ahorcado -->
    <section id="step5">
      <h2>Paso 5: Juego del Ahorcado</h2>
      <p>Descubre la palabra clave:</p>
      <div id="status">Intentos restantes: <span id="tries"></span></div>
      <div class="hangman-word" id="wordDisplay"></div>
      <div class="letters" id="letterButtons"></div>
      <div id="reveal"></div>
    </section>
  </div>

  <script>
    const gender = "ni√±a";
    const originalColor = gender === "ni√±a" ? "#FFC0CB" : "#ADD8E6";
    const upperGender = gender.toUpperCase();
    const plain = gender.toUpperCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');
    function showStep(n) {
      for (let i = 1; i <= 5; i++) document.getElementById('step' + i).classList.toggle('active', i === n);
    }
    // Paso 1
    document.getElementById('btn1').onclick = () => {
      if (+document.getElementById('ans1').value === 12) { showStep(2); initMemory(); }
      else alert('Incorrecto. Int√©ntalo de nuevo.');
    };
    // Paso 2: Juego de memoria
    const icons = ['üçº', 'üë∂', 'üéÄ', 'üöó', 'üß∏', 'üëü'];
    let cards = [], firstCard = null, lock = false;
    function shuffle(a) { for (let i = a.length - 1; i > 0; i--) { let j = Math.floor(Math.random() * (i + 1)); [a[i], a[j]] = [a[j], a[i]]; }}
    function initMemory() { cards = icons.concat(icons); shuffle(cards); const grid = document.getElementById('memory'); grid.innerHTML = ''; cards.forEach(icon => { const card = document.createElement('div'); card.className = 'card'; card.dataset.icon = icon; card.onclick = () => flipCard(card); grid.appendChild(card); }); }
    function flipCard(card) { if (lock || card.classList.contains('flipped')) return; card.classList.add('flipped'); card.textContent = card.dataset.icon; if (!firstCard) firstCard = card; else { lock = true; if (card.dataset.icon === firstCard.dataset.icon) { setTimeout(() => { card.classList.add('matched'); firstCard.classList.add('matched'); resetMemory(); }, 500); } else { setTimeout(() => { card.classList.remove('flipped'); firstCard.classList.remove('flipped'); card.textContent = ''; firstCard.textContent = ''; resetMemory(); }, 800); } }}
    function resetMemory() { if (document.querySelectorAll('.matched').length === cards.length) document.getElementById('btn2').style.display = 'inline-block'; [firstCard, lock] = [null, false]; }
    document.getElementById('btn2').onclick = () => showStep(3);
    // Paso 3: Puzzle l√≥gico de edades
    document.getElementById('btn3').onclick = () => {
      const edad = +document.getElementById('ans3').value;
      if (edad === 9) { showStep(4); } else { alert('Incorrecto. Int√©ntalo de nuevo.'); }
    };
    // Paso 4: Mezcla de color
    const rS = document.getElementById('r'), gS = document.getElementById('g'), bS = document.getElementById('b');
    const preview = document.getElementById('rgb-preview'), target = document.getElementById('rgb-target');
    function hexToIndex(hex) { return Math.round(parseInt(hex, 16) / 255 * 5); }
    const tR = hexToIndex(originalColor.substr(1, 2)), tG = hexToIndex(originalColor.substr(3, 2)), tB = hexToIndex(originalColor.substr(5, 2));
    const dR = Math.round(tR / 5 * 255), dG = Math.round(tG / 5 * 255), dB = Math.round(tB / 5 * 255);
    target.style.background = `rgb(${dR},${dG},${dB})`;
    function updatePreview() { const r = Math.round((rS.value / 5) * 255), g = Math.round((gS.value / 5) * 255), b = Math.round((bS.value / 5) * 255); preview.style.background = `rgb(${r},${g},${b})`; }
    [rS, gS, bS].forEach(sl => sl.oninput = updatePreview);
    document.getElementById('btn4').onclick = () => { if (+rS.value === tR && +gS.value === tG && +bS.value === tB) { showStep(5); initHangman(); } else alert('Color incorrecto.'); };
    // Paso 5: Ahorcado
    const maxTries = 10; let tries, leftWord;
    function initHangman() { tries = 0; leftWord = upperGender.split(''); document.getElementById('tries').textContent = maxTries - tries; const disp = leftWord.map(_ => '_'); document.getElementById('wordDisplay').textContent = disp.join(' ');
      const letters = 'ABCDEFGHIJKLMN√ëOPQRSTUVWXYZ'.split(''); const btns = document.getElementById('letterButtons'); btns.innerHTML = '';
      letters.forEach(l => { const b = document.createElement('button'); b.textContent = l; b.onclick = () => guess(l, b); btns.appendChild(b); }); }
    function guess(letter, button) { button.disabled = true; let found = false; Array.from(document.getElementById('wordDisplay').textContent.replace(/ /g, '')).forEach((c,i) => { if (leftWord[i] === letter) { found = true; } });
      let display = document.getElementById('wordDisplay').textContent.split(' ');
      leftWord.forEach((l,i) => { if (l === letter) display[i] = letter; });
      document.getElementById('wordDisplay').textContent = display.join(' ');
      if (!found) { tries++; document.getElementById('tries').textContent = maxTries - tries; }
      checkEnd(); }
    function checkEnd() { const display = document.getElementById('wordDisplay').textContent.replace(/ /g, ''); if (display === upperGender) revealWin(); else if (tries >= maxTries) revealLose(); }
    function revealWin() { document.getElementById('reveal').textContent = `¬°Bravo! Es una ${gender.toUpperCase()}!`; document.getElementById('reveal').style.color = originalColor; }
    function revealLose() { document.getElementById('reveal').textContent = `Se acabaron los intentos. Es una ${gender.toUpperCase()}.`; document.getElementById('reveal').style.color = originalColor; }
  </script>
</body>
</html>
